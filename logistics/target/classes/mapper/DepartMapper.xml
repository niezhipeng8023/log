<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wbg.logistics.dao.DepartMapper">
  <resultMap id="BaseResultMap" type="com.wbg.logistics.entity.Depart">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="staff_no" jdbcType="INTEGER" property="staffNo" />
    <result column="staff_name" jdbcType="VARCHAR" property="staffName" />
    <result column="gender" jdbcType="CHAR" property="gender" />
    <result column="birthhday" jdbcType="TIMESTAMP" property="birthhday" />
    <result column="phone" jdbcType="VARCHAR" property="phone" />
    <result column="password" jdbcType="VARCHAR" property="password" />
    <result column="dedpart_no" jdbcType="INTEGER" property="dedpartNo" />
    <result column="firm_no" jdbcType="INTEGER" property="firmNo" />
  </resultMap>
  <resultMap id="All" type="com.wbg.logistics.entity.Depart">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="staff_no" jdbcType="INTEGER" property="staffNo" />
    <result column="staff_name" jdbcType="VARCHAR" property="staffName" />
    <result column="gender" jdbcType="CHAR" property="gender" />
    <result column="birthhday" jdbcType="TIMESTAMP" property="birthhday" />
    <result column="phone" jdbcType="VARCHAR" property="phone" />
    <result column="password" jdbcType="VARCHAR" property="password" />
    <result column="dedpart_no" jdbcType="INTEGER" property="dedpartNo" />
    <result column="firm_no" jdbcType="INTEGER" property="firmNo" />
    <association property="firm" resultMap="firm" autoMapping="true"/>
    <association property="dispatch" resultMap="dispatch" autoMapping="true"/>
  </resultMap>
  <resultMap id="dispatch" type="com.wbg.logistics.entity.Dispatch" autoMapping="true"/>
  <resultMap id="firm" type="com.wbg.logistics.entity.Firm" autoMapping="true"/>

  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from depart
    where staff_no = #{staffNo,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.wbg.logistics.entity.Depart">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into depart (staff_no, staff_name, gender, 
      birthhday, phone, password, 
      dedpart_no, firm_no)
    values (#{staffNo,jdbcType=INTEGER}, #{staffName,jdbcType=VARCHAR}, #{gender,jdbcType=CHAR}, 
      #{birthhday,jdbcType=TIMESTAMP}, #{phone,jdbcType=VARCHAR}, #{password,jdbcType=VARCHAR}, 
      #{dedpartNo,jdbcType=INTEGER}, #{firmNo,jdbcType=INTEGER})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.wbg.logistics.entity.Depart">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update depart
    set staff_name = #{staffName,jdbcType=VARCHAR},
      gender = #{gender,jdbcType=CHAR},
      birthhday = #{birthhday,jdbcType=TIMESTAMP},
      phone = #{phone,jdbcType=VARCHAR},
      password = #{password,jdbcType=VARCHAR},
      dedpart_no = #{dedpartNo,jdbcType=INTEGER},
      firm_no = #{firmNo,jdbcType=INTEGER}
    where staff_no = #{staffNo,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="All">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select * from depart d
    join dispatch p on d.dedpart_no=p.depart_no
    join firm f on d.firm_no=f.firm_no
    where staff_no = #{staffNo,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select staff_no, staff_name, gender, birthhday, phone, password, dedpart_no, firm_no
    from depart
  </select>
  <select id="selectAllJson" resultMap="All">
    select * from depart d
      join dispatch p on d.dedpart_no=p.depart_no
      join firm f on d.firm_no=f.firm_no
  </select>
  <select id="selectByType" resultType="com.wbg.logistics.entity.Depart" resultMap="All">
      select * from depart d
      join dispatch p on d.dedpart_no=p.depart_no
      join firm f on d.firm_no=f.firm_no where staff_name like #{staffName}
  </select>
</mapper>